!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.mortgageCalculator=e():t.mortgageCalculator=e()}(window,function(){return function(o){var n={};function r(t){if(n[t])return n[t].exports;var e=n[t]={i:t,l:!1,exports:{}};return o[t].call(e.exports,e,e.exports,r),e.l=!0,e.exports}return r.m=o,r.c=n,r.d=function(t,e,o){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(o,n,function(t){return e[t]}.bind(null,n));return o},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s="./lib/index.ts")}({"./lib/index.ts":
/*!**********************!*\
  !*** ./lib/index.ts ***!
  \**********************/
/*! no static exports found */function(t,e,o){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(o){function t(t){var e=o.call(this)||this;return e.options=Object.assign({},{price:1e7,month:360,type:1,graceMonth:0,rate:1.2,segment:[{start:1,end:12,rate:1.3},{start:13,end:24,rate:1.4},{start:25,end:360,rate:1.5}]},t),e}return r(t,o),t.prototype.getParams=function(t){var e=Object.assign({},this.options,t),o=e.month,n=e.graceMonth,r=e.rate/12/100,i=o-n;return{monthRate:r,totalMonth:i,averageInterest:Math.pow(1+r,i)*r/(Math.pow(1+r,i)-1)}},t.prototype.getInterest=function(t){var e=Object.assign({},this.options,t),o=e.price,n=e.graceMonth,r=this.getParams(t),i=r.monthRate,a=r.totalMonth,s=o*r.averageInterest,p=o*i;return{price:o,monthRate:i,perMonthInterest:p,perMonthCapital:s-p,perMonthPrice:s,totalMonth:a,totalInerestPrice:p*n+s*a-o}},t.prototype.getCapital=function(t){var e=Object.assign({},this.options,t),o=e.price,n=e.graceMonth,r=this.getParams(t),i=r.monthRate,a=r.totalMonth,s=o/a,p=o*i;return{price:o,monthRate:i,perMonthInterest:p,perMonthCapital:s,perMonthPrice:s+p,totalMonth:a,totalInerestPrice:p*n+(a+1)*o*i/2}},t.prototype.interestPerMonthList=function(t){for(var e=this.getInterest(Object.assign({},this.options,t)),o=[],n=0,r=1;r<=this.options.month;r++){var i=(e.price-n)*e.monthRate,a=e.perMonthPrice-i;r<=this.options.graceMonth&&(i=e.price*e.monthRate,a=0),n+=a,o.push({month:r,interest:i,capital:a,total:i+a})}return o},t.prototype.capitalPerMonthList=function(t){for(var e=this.getCapital(Object.assign({},this.options,t)),o=[],n=0,r=1;r<=this.options.month;r++){var i=(e.price-n)*e.monthRate,a=e.perMonthCapital+i;r<=this.options.graceMonth&&(a=i=e.price*e.monthRate),n+=a-i,o.push({month:r,interest:i,capital:a-i,total:a})}return o},t.prototype.interestMulti=function(t){var s=this;s.options=Object.assign({},s.options,t);var p=0,c=0,u=s.options.graceMonth,h=[];return s.options.segment.forEach(function(t,e){if(!t.start||!t.end||!t.rate)return!1;var o={rate:t.rate,price:s.options.price-c};0<e&&(o.month=s.options.month-s.options.segment[e-1].end,o.graceMonth=0<u?u:0),0<u&&(u-=t.end-t.start+1);for(var n=s.getInterest(o),r=~~t.start;r<=~~t.end;r++){var i=n.monthRate*(s.options.price-c),a=n.perMonthPrice-i;r<=s.options.graceMonth&&(i=n.monthRate*n.price,a=0),c+=a,p+=i,h.push({month:r,interest:i,capital:a,total:i+a})}}),{totalInterest:p,totalCapital:c,monthList:h}},t.prototype.capitalMulti=function(t){var s=this;this.options=Object.assign({},this.options,t);var p=0,c=0,u=[];return this.options.segment.forEach(function(t,e){if(!t.start||!t.end||!t.rate)return!1;for(var o={rate:t.rate},n=s.getCapital(Object.assign(s.options,o)),r=~~t.start;r<=~~t.end;r++){var i=n.monthRate*(s.options.price-c),a=n.perMonthCapital;r<=s.options.graceMonth&&(i=n.monthRate*n.price,a=0),c+=a,p+=i,u.push({month:r,interest:i,capital:a,total:i+a})}}),{totalInterest:p,totalCapital:c,monthList:u}},t.prototype.verifyParams=function(){var e=0;return this.options.segment.forEach(function(t){e+=t.end-t.start+1}),e===this.options.month},t}(function(){function t(){this.name="MortgageCalculator"}return t.prototype.test=function(){console.log(this.name)},t}());e.default=i}})});